---
layout: post
title: "Rails中的ActiveSupport"
author: "meedesidy"
meta: "Springfield"
---

## Rails中的ActiveSupport

> Rails::Railtie is the core of the Rails framework and provides several hooks to extend Rails and/or modify the initialization process.


**Rails::Railties 是Rails框架核心，并提供了几个钩子扩展Rails和/或修改初始化过程。**

### 得到gem
> rails new appname

Rails::Railties 是Rails框架核心,创建rails程序,`External Libraries`　中会看到　`Railties`的gem

### 启动

`rails s` , 是程序开始的地方

* 首先会执行　'RUBY_PATH/bin/rails', 具体是这个样子的：

``` ruby
#!/usr/bin/env ruby
#
# This file was generated by RubyGems.
#
# The application 'railties' is installed as part of a gem, and
# this file is here to facilitate running it.
#

require 'rubygems'

version = ">= 0.a"

if ARGV.first
  str = ARGV.first
  str = str.dup.force_encoding("BINARY") if str.respond_to? :force_encoding
  if str =~ /\A_(.*)_\z/ and Gem::Version.correct?($1) then
    version = $1
    ARGV.shift
  end
end

gem 'railties', version
load Gem.bin_path('railties', 'rails', version)
```

* 接着执行　`load Gem.bin_path('railties', 'rails', version)`, 加载gem包下可执行文件

* 执行`rails` gem包下的 `/bin/rails`,主要就是要执行`require "rails/cli"`